<section class="comments-section">
  <app-comment-list-view [comments]="comments"></app-comment-list-view>

  <section class="comment-input">
    <app-mention-suggestions
      #mentionSuggestions
      [title]="constants.USERS_TITLE"
      [suggestions]="users"
      (suggestionSelected)="handleSuggestionSelected($event)"
    >
    </app-mention-suggestions>

    <form #commentForm="ngForm" (ngSubmit)="onCommentSubmit()">
      <label for="newComment" class="visually-hidden">{{
        constants.NEW_COMMENT_LABEL
      }}</label>
      <textarea
        #commentTextarea
        id="newComment"
        class="comment-textarea"
        name="comment"
        [(ngModel)]="newComment"
        (input)="onCommentInput()"
        [placeholder]="constants.NEW_COMMENT_PLACEHOLDER"
        required
        minlength="1"
        [attr.aria-label]="constants.NEW_COMMENT_LABEL"
      ></textarea>

      <div class="button-group">
        <button
          type="button"
          class="reset-button"
          (click)="resetForm()"
          [disabled]="!newComment"
        >
          {{ constants.RESET_BUTTON_TEXT }}
        </button>
        <button
          type="submit"
          class="comment-button"
          [disabled]="!commentForm.form.valid"
        >
          {{ constants.ADD_COMMENT_BUTTON_TEXT }}
        </button>
      </div>
    </form>
  </section>
</section>
